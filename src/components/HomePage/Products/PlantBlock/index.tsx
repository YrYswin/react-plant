import React from 'react'
import { Link } from 'react-router-dom'

import { useAppDispatch } from '../../../../redux/store'
import { addItem } from '../../../../redux/cart/slice'
import { Plant } from '../../../../redux/plant/types'

import plantImg from '../../../../assets/img/plant.png'

import './PlantBlock.scss'


export const PlantBlock: React.FC<Plant> = ({ id, title, price, imageUrl }) => {
  const dispatch = useAppDispatch()

  const addItemCart = () => {
    const item = {
      id,
      title,
      price,
      imageUrl,
      count: 0
    }
    dispatch(addItem(item))
  }

  return (
    <div className="item">
      <div className="imageContainer">
        <Link to={`/full-plant/${id}`}>
          <img src={imageUrl ? imageUrl : plantImg} alt="plant" />
        </Link>

        <div className="itemBtn">
          <div onClick={addItemCart} className="svgContainer">
            <svg width="26" height="30" viewBox="-5 0 30 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.1567 20.25H9.89163C6.79003 20.25 4.26667 17.7267 4.26667 14.6251V8.85947C4.26667 5.9762 2.82958 3.30739 0.422521 1.72031C-0.00975775 1.43531 -0.129101 0.853876 0.155897 0.421598C0.440896 -0.0107278 1.02228 -0.130118 1.45465 0.154974C2.82874 1.06097 3.94351 2.2559 4.74067 3.63167C4.91293 3.82466 6.30202 5.29699 8.57919 5.29699H19.3748C22.3201 5.24191 24.6254 8.19769 23.8554 11.0406L22.6126 15.9939C21.9839 18.4998 19.7404 20.25 17.1567 20.25ZM5.90513 6.64234C6.06099 7.36238 6.14166 8.10483 6.14166 8.85947V14.6251C6.14166 16.6928 7.8239 18.375 9.89163 18.375H17.1567C18.8792 18.375 20.3748 17.2082 20.794 15.5376L22.0367 10.5844C22.4943 8.89509 21.1243 7.13931 19.3748 7.17198H8.57914C7.54926 7.17198 6.65283 6.94993 5.90513 6.64234ZM9.42289 22.8281C9.42289 22.1809 8.89822 21.6563 8.25102 21.6563C6.69609 21.7182 6.69745 23.9387 8.25102 24C8.89822 24 9.42289 23.4753 9.42289 22.8281ZM18.751 22.8281C18.751 22.1809 18.2263 21.6563 17.5791 21.6563C16.0242 21.7182 16.0255 23.9387 17.5791 24C18.2263 24 18.751 23.4753 18.751 22.8281ZM20.3123 9.98446C20.3123 9.46668 19.8925 9.04697 19.3748 9.04697H8.95414C7.71027 9.09647 7.71121 10.8729 8.95414 10.922H19.3748C19.8925 10.922 20.3123 10.5022 20.3123 9.98446Z" fill='black' />
            </svg>
          </div>
          <div className="svgContainer">
            <svg width="20.000000" height="17.793579" viewBox="0 0 20 17.7936" fill="none" >
              <path id="Vector" d="M10 17.7936C9.71527 17.7936 9.44077 17.6904 9.22684 17.5031C8.41888 16.7966 7.63992 16.1327 6.95267 15.547L6.94916 15.544C4.93423 13.8269 3.19427 12.3441 1.98364 10.8833C0.630341 9.25034 0 7.70203 0 6.01059C0 4.36722 0.563507 2.8511 1.58661 1.74133C2.62192 0.618439 4.04251 0 5.58716 0C6.74164 0 7.79892 0.36499 8.72955 1.08475C9.19922 1.44806 9.62494 1.8927 10 2.41135C10.3752 1.8927 10.8008 1.44806 11.2706 1.08475C12.2012 0.36499 13.2585 0 14.413 0C15.9575 0 17.3782 0.618439 18.4135 1.74133C19.4366 2.8511 20 4.36722 20 6.01059C20 7.70203 19.3698 9.25034 18.0165 10.8832C16.8059 12.3441 15.0661 13.8268 13.0515 15.5437C12.363 16.1302 11.5828 16.7952 10.773 17.5034C10.5592 17.6904 10.2846 17.7936 10 17.7936ZM5.58716 1.17157C4.37363 1.17157 3.25882 1.65588 2.44781 2.5354C1.62476 3.42819 1.17142 4.66232 1.17142 6.01059C1.17142 7.43317 1.70013 8.70544 2.88559 10.1358C4.03137 11.5184 5.73563 12.9707 7.70889 14.6524L7.71255 14.6555C8.4024 15.2434 9.18442 15.9099 9.99832 16.6216C10.8171 15.9085 11.6003 15.2409 12.2916 14.6521C14.2647 12.9704 15.9688 11.5184 17.1146 10.1358C18.2999 8.70544 18.8286 7.43317 18.8286 6.01059C18.8286 4.66232 18.3752 3.42819 17.5522 2.5354C16.7413 1.65588 15.6264 1.17157 14.413 1.17157C13.524 1.17157 12.7078 1.45416 11.9872 2.01141C11.3449 2.50824 10.8975 3.13629 10.6352 3.57574C10.5003 3.80173 10.2629 3.93661 10 3.93661C9.73709 3.93661 9.49966 3.80173 9.36478 3.57574C9.10263 3.13629 8.65524 2.50824 8.01285 2.01141C7.29218 1.45416 6.47598 1.17157 5.58716 1.17157Z" fill='black' fillOpacity="1.000000" fillRule="nonzero" />
            </svg>
          </div>
          <div className="svgContainer">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14.5726 16.0029C10.5755 19.1865 4.988 18.3056 2.02842 14.6542C-0.828088 11.129 -0.64944 6.04347 2.44943 2.82482C5.65137 -0.500594 10.6854 -0.944524 14.3346 1.78337C15.642 2.76051 16.6183 4.00364 17.2542 5.50838C17.8938 7.02186 18.0881 8.59654 17.8663 10.2205C17.6452 11.837 17 13.2775 15.9499 14.6217C16.0349 14.6773 16.1255 14.7173 16.1904 14.7822C17.3448 15.9311 18.4947 17.0843 19.6491 18.2331C19.9227 18.5054 20.0589 18.8225 19.9776 19.2047C19.8165 19.9651 18.9107 20.2586 18.3298 19.7366C18.0575 19.4925 17.807 19.2234 17.5484 18.9649C16.6002 18.0177 15.6526 17.0699 14.7044 16.1227C14.665 16.0853 14.6238 16.0503 14.5726 16.0029ZM15.9605 8.98677C15.9705 5.12689 12.8529 2.00627 8.98261 2.00065C5.12292 1.99503 2.00781 5.09068 1.99094 8.94806C1.97408 12.8173 5.08544 15.9467 8.96762 15.9648C12.8117 15.9829 15.9505 12.8504 15.9605 8.98677Z" fill='black' />
            </svg>
          </div>
        </div>
      </div>

      <span>13% OFF</span>

      <div className="description">
        <h2>{title}</h2>
        <span className='newPrice'>{price} $</span>
        <span className='oldPrice'>Old Price $</span>
      </div>
    </div>
  )
}
